(function(a){a.fn.jqLinearGauge=function(b,d,e){if(typeof b==="object")d=b;else if(typeof b==="string"){b=b.toLowerCase();if(a.fn.jqLinearGauge.methods[b])return a.fn.jqLinearGauge.methods[b].call(this,d,e);else a.error("Method "+method+" does not exist on jQuery.jqLinearGauge")}var c=this.data("data");if(!c){c=new l(this);this.data("data",c)}c._setOptions(d);return this};a.fn.jqLinearGauge.methods={lineargauge:function(){return this.data("data")},destroy:function(){var a=this.data("data");if(a){a.destroy();this.removeData("data")}},options:function(){var a=this.data("data");return!a?void 0:a.options},option:function(b,c){var a=this.data("data");if(!a)return;if(!c)return a.options[b];a.options[b]=c;a._setOptions(a.options)},update:function(c){var b=this.data("data");if(!b)return this;var d=a.extend(false,{},b.options,c||{});b._setOptions(d)},f20:function(b){var a=this.data("data");return!a?null:a.f20(b)},f19:function(b){var a=this.data("data");a&&a.f19(b)},ismouseover:function(){var a=this.data("data");return a?a.isMouseOver:false}};a.fn.jqLinearGauge.defaults={tooltips:{disabled:false,type:"normal",borderColor:"auto",snapArea:4,highlighting:true,highlightingFillStyle:"rgba(204, 204, 204, 0.5)",highlightingStrokeStyle:"rgba(204, 204, 204, 0.5)"}};a.fn.jqLinearGauge.labelFormatter=function(b,c){return!b?String(c):a.fn.jqSprintf(b,c)};a.fn.jqRadialGauge=function(b,d,e){if(typeof b==="object")d=b;else if(typeof b==="string"){b=b.toLowerCase();if(a.fn.jqRadialGauge.methods[b])return a.fn.jqRadialGauge.methods[b].call(this,d,e);else a.error("Method "+method+" does not exist on jQuery.jqRadialGauge")}var c=this.data("data");if(!c){c=new m(this);this.data("data",c)}c._setOptions(d);return this};a.fn.jqRadialGauge.methods={radialgauge:function(){return this.data("data")},destroy:function(){var a=this.data("data");if(a){a.destroy();this.removeData("data")}},options:function(){var a=this.data("data");return!a?void 0:a.options},option:function(b,c){var a=this.data("data");if(!a)return;if(!c)return a.options[b];a.options[b]=c;a._setOptions(a.options)},update:function(c){var b=this.data("data");if(!b)return this;var d=a.extend(false,{},b.options,c||{});b._setOptions(d)},f20:function(b){var a=this.data("data");return!a?null:a.f20(b)},f19:function(b){var a=this.data("data");a&&a.f19(b)},ismouseover:function(){var a=this.data("data");return a?a.isMouseOver:false}};a.fn.jqRadialGauge.defaults={anchor:{visible:true,fillStyle:"black",strokeStyle:"black",lineWidth:0,radius:.1,zIndex:5},tooltips:{disabled:false,type:"normal",borderColor:"auto",snapArea:4,highlighting:true,highlightingFillStyle:"rgba(204, 204, 204, 0.5)",highlightingStrokeStyle:"rgba(204, 204, 204, 0.5)"}};a.fn.jqRadialGauge.labelFormatter=function(b,c){return!b?String(c):a.fn.jqSprintf(b,c)};a.fn.jqMouseCapture=function(b){var c=a(document);this.each(function(){var d=a(this),e={};d.mousedown(function(h){var f;if(b.move){f=function(a){b.move.call(d,a,e)};c.mousemove(f)}var a,g=function(){b.move&&c.unbind("mousemove",f);c.unbind("mouseup",a)};if(b.up)a=function(a){g();return b.up.call(d,a,e)};else a=g;c.mouseup(a);h.preventDefault();return b.down.call(d,h,e)})});return this};function M(a){this.view=a}M.prototype={canStart:function(){return false},start:function(){},keyDown:function(){},keyUp:function(){},mouseMove:function(){},mouseDown:function(){},mouseUp:function(){},touchStart:function(){},_a1:function(){},touchEnd:function(){},stop:function(){},stopTool:function(){this.view.currentTool==this&&this.view.f17(null)}};function r(a){M.call(this,a)}r.prototype=new M;r.constructor=r;r.prototype.mouseDown=function(d){for(var b=this.view.mouseDownTools,a=0;a<b.length;a++){var c=b[a];if(c.canStart(d)){this.view.f17(c);return}}};r.prototype.mouseMove=function(d){for(var b=this.view.mouseMoveTools,a=0;a<b.length;a++){var c=b[a];if(c.canStart(d)){this.view.f17(c);return}}this.view.f8(d)};r.prototype.touchStart=function(d){for(var b=this.view.touchStartTools,a=0;a<b.length;a++){var c=b[a];if(c.canStart(d)){this.view.f17(c);return}}this.view._f10(d)};r.prototype._a1=function(d){for(var b=this.view._a1Tools,a=0;a<b.length;a++){var c=b[a];if(c.canStart(d)){this.view.f17(c);return}}this.view.f12(d)};function d(a){if(!a)return;this.shapes=[];this.mouseDownTools=[];this.mouseMoveTools=[];this.touchStartTools=[];this._a1Tools=[];this.defaultTool=new r(this);this.currentTool=this.defaultTool;this._e1(a)}d.support_canvas=function(){return!!document.createElement("canvas").getContext};d.use_excanvas=a.browser.msie&&!d.support_canvas()?true:false;d.isTouchDevice=!!("ontouchstart"in window);d.isGestureDevice=!!("ongesturestart"in window);d.prototype={_e1:function(c){this.elem=c;var b=this;c.mouseenter(function(a){b._mouseEnter(a)});c.mouseleave(function(a){b._mouseLeave(a)});c.jqMouseCapture({down:a.proxy(b._mouseDown,this),move:a.proxy(b._mouseMove,this),up:a.proxy(b._mouseUp,this)});c.mousemove(function(a){!b.isMouseDown&&b._mouseMove(a)});c.keydown(function(a){b._keyDown(a)});c.keyup(function(a){b._keyUp(a)});c.resize(function(){b._e7()});a(window).bind("resize.jqChart",function(){b._e7()});a(window.document).bind("keydown.jqChart",function(a){b._keyDown(a)});if(d.isTouchDevice){c.bind("touchstart",function(a){b._touchStart(a)});c.bind("_a1",function(a){b.__a1(a)});c.bind("touchend",function(a){b._touchEnd(a)})}this.canvas=this._e12();this.tooltip=this._e3();this.shapeRenderer=new u(this.canvas,this);this.ctx=this.shapeRenderer.ctx},_setOptions:function(){var a=this.elem;this.originalCursor="auto";!a.hasClass(this.pluginClass)&&a.addClass(this.pluginClass);a.css("position")=="static"&&a.css("position","relative");!this.tooltip.hasClass(this.tooltipClass)&&this.tooltip.addClass(this.tooltipClass)},_e2:function(){if(d.use_excanvas){this.hlCanvas=this._e12(true);var b=a('<div style="position:absolute"></div>');this.elem.append(b);b.append(this.hlCanvas);this.hlRenderer=new u(this.hlCanvas,this);this.hlRenderer.div=b}else{this.hlCanvas=this._e12();this.hlRenderer=new u(this.hlCanvas,this)}this.hlRenderer.isHighlighting=true},_e12:function(c){var b=document.createElement("canvas");b.width=10;b.height=10;a(b).css({position:"absolute",left:0,top:0});if(d.use_excanvas){window.G_vmlCanvasManager.init_(document);window.G_vmlCanvasManager.initElement(b)}!c&&this.elem.append(b);return b},_e11:function(a,c,b){a.width=c;a.height=b},_e3:function(){var b=a('<div style="position:absolute;display:none"></div>');this.elem.append(b);return b},_measure:function(){},_arrange:function(){},_keyDown:function(a){this.currentTool.keyDown(a)},_keyUp:function(a){this.currentTool.keyUp(a)},_mouseEnter:function(){this.isMouseOver=true},_mouseLeave:function(){this._e5();this.locOffset=null;this.isMouseOver=false},_mouseDown:function(a){this._oldShape!=null&&this._f7("MouseDown",this._oldShape);this.isMouseDown=true;this.currentTool.mouseDown(a)},_mouseMove:function(a){this._e10(a);this._e6();this.currentTool.mouseMove(a)},_mouseUp:function(a){this._oldShape!=null&&this._f7("MouseUp",this._oldShape);this.isMouseDown=false;this.currentTool.mouseUp(a)},_touchStart:function(a){this._e9(a);this.isTouchOver=true;this._e8();this.currentTool.touchStart(a)},__a1:function(b){this._e9(b);var a=this.touchInput[0];this.isTouchOver=this.contains(a.locX,a.locY);this._e8();this.currentTool._a1(b)},_touchEnd:function(a){this._e9(a);if(this._oldShape!=null){this._f7("TouchEnd",this._oldShape);this._oldShape=null}this.currentTool.touchEnd(a)},_e10:function(b){this.isMouseOver=true;var c=b.pageX,d=b.pageY;if(!this.locOffset)this.locOffset=this.elem.offset();var a=this.locOffset,f=c-a.left,g=d-a.top,e={x:c,y:d,locX:f,locY:g};this.mouseInput=e},_e9:function(j){var b=j.originalEvent.touches;if(!this.locOffset)this.locOffset=this.elem.offset();for(var c=this.locOffset,d=[],a=0;a<b.length;a++){var e=b[a],f=e.pageX,g=e.pageY,h=f-c.left,i=g-c.top;d.push({x:f,y:g,locX:h,locY:i})}this.touchInput=d},getAllTouches:function(h){for(var f=["touches","changedTouches"],b=[],c=0;c<f.length;c++)for(var e=h.originalEvent[f[c]],d=0;d<e.length;d++){var g=e[d];a.inArray(g,b)==-1&&b.push(g)}return b},_e7:function(){var c=this.elem,e=c.width(),d=c.height();if(e!=this._width||d!=this._height){var a=this.options;if(a){if(!b.isNull(a.width))a.width=e;if(!b.isNull(a.height))a.height=d}this._setOptions(this.options)}},_e5:function(){if(this._oldTShapes){this._oldTShapes=null;this.elem.trigger("dataHighlighting",null)}this._oldShape=null;this._resetCursor();this._e4();this.hlRenderer&&this.hlRenderer._clear()},f8:function(){this._f9(this.mouseInput)},_e6:function(){var b=this.mouseInput,a=this.hitTest(b.locX,b.locY);if(this._oldShape!=null&&this._oldShape==a)this._f7("MouseMove",this._oldShape);else{if(this._oldShape!=null){this._f7("MouseLeave",this._oldShape);this._oldShape.cursor&&this._resetCursor()}if(a!=null){this._f7("MouseEnter",a);a.cursor&&this.elem.css("cursor",a.cursor)}this._oldShape=a}},_e8:function(){var b=this.touchInput[0];if(!b)return;var a=this.hitTest(b.locX,b.locY);if(this._oldShape!=null&&this._oldShape==a)this._f7("_a1",this._oldShape);else{this._oldShape!=null&&this._f7("TouchEnd",this._oldShape);a!=null&&this._f7("TouchStart",a);this._oldShape=a}},_f9:function(c){var d=this.hasTooltips,f=this.hasHighlighting;if(!d&&!f)return;var g=this.options.tooltips.snapArea,a=this._getTooltipShapes(c.locX,c.locY,g,c),e=true;if(this._oldTShapes==null||!b.compareArrays(this._oldTShapes,a)){if(a!=null){this.f14(a);this.f13(a)}this._oldTShapes=a}else e=false;a&&d&&e&&this.f16(a,c)},f16:function(d,g){var k=this.tooltip.outerWidth(true),f=this.tooltip.outerHeight(true),h=this._width,e=this._height,j=d[0].f11(g,k,f,h,e),c=j.y,i=d.length,l=this;if(i>1){c=0;a.each(d,function(){c+=this.f11(g,k,f,h,e).y});c/=i}c=b.fitInRange(c,0,e-f);this.tooltip.stop();this.tooltip.animate({left:j.x,top:c},100)},_f10:function(){this._f9(this.touchInput[0])},f12:function(){this._f9(this.touchInput[0])},f14:function(b){if(!this.hasTooltips||!b||!b.length)return;var g=b.length,f="",d;if(g==1)d=b[0].context;else{d=[];a.each(b,function(){d.push(this.context)})}if(!d)return;var e=new jQuery.Event("tooltipFormat");this.elem.trigger(e,[d]);var h=this;if(e.result)f=e.result;else f=this._getTooltipText(b);this.tooltip.html(f);var c=this.options.tooltips;if(g==1)if(c.borderColor){c.borderColor=="auto"&&this.tooltip.css("border-color",b[0].getTooltipColor());this.tooltip.css("border-color",c.borderColor)}c.background&&this.tooltip.css("background",c.background);this.f18()},f13:function(g){if(!this.hasHighlighting)return;this.hlRenderer._clear();var f=this.options.tooltips,b=[];a.each(g,function(d,c){var a=c.f15(f.highlightingFillStyle,f.highlightingStrokeStyle);b.push(a)});var c;if(b.length==1){c=b[0].context;c.shape=b[0]}else{c=[];a.each(b,function(){c.push(this.context);c.shape=this})}var e=new jQuery.Event("dataHighlighting");this.elem.trigger(e,[c]);if(e.result!==false)if(d.use_excanvas)this.hlRenderer._render(b);else{this.hlRenderer.ctx.save();this._setClip&&this._setClip(this.hlRenderer.ctx);this.hlRenderer._render(b);this.hlRenderer.ctx.restore()}},_f6:function(b,g,f){for(var a=b[0],d=1;d<b.length;d++){var e=b[d];if(c.compare(a,e,f,g)==false)a=e}return a},_getTooltip:function(){return"Tooltip"},_getTooltipText:function(c){var b="",d=this;a.each(c,function(){b+=d._getTooltip(this)});return b},_getTooltipShapes:function(h,i,b,e){if(!b)b=0;for(var d=[],f=this.shapes.length-1;f>=0;f--){var a=this.shapes[f];if(!a.context||a.isLegendItem)continue;var c=a.hitTest(e.locX,e.locY,b);if(c===true)d.push(a);else c&&d.push(c)}var g=this._f6(d,b,e);return!g?null:[g]},_resetCursor:function(){this.elem.css("cursor")!=this.originalCursor&&this.elem.css("cursor",this.originalCursor)},_f7:function(b,a){this.elem.trigger("dataPoint"+b,a.context)},getCurrentTool:function(){return this.currentTool},f17:function(a){if(this.currentTool==a)return;this.currentTool!=null&&this.currentTool.stop();if(!a)this.currentTool=this.defaultTool;else this.currentTool=a;this.currentTool&&this.currentTool.start()},contains:function(a,b){return a>=0&&a<=this._width&&b>=0&&b<=this._height},hitTest:function(d,e,b){if(!b)b=0;for(var c=this.shapes.length-1;c>=0;c--){var a=this.shapes[c];if(!a.context)continue;if(a.hitTest(d,e,b))return a}},f18:function(){this.tooltip.show()},_e4:function(){this.tooltip.hide()},stringFormat:function(b,c){return a.type(b)=="date"?a.fn.jqDateFormat(b,c):a.fn.jqSprintf(c,b)},clear:function(){this._e5();this.shapeRenderer._clear()},render:function(){},destroy:function(){var b=this.elem;b.unbind("mouseenter");b.unbind("mouseleave");b.unbind("mousedown");b.unbind("mousemove");b.unbind("mouseup");b.unbind("kedown");b.unbind("keyup");b.unbind("resize");a(window).unbind("resize.jqChart");a(window.document).unbind("keydown.jqChart");if(d.isTouchDevice){b.unbind("touchstart");b.unbind("_a1");b.unbind("touchend")}b.children().remove();var c=this.options;b.hasClass(this.pluginClass)&&b.removeClass(this.pluginClass)},f20:function(a){return d.use_excanvas?null:this.canvas.f20(a)},getShapesPerData:function(d){var b=[],c=this.shapes;a.each(d,function(){var d=this;a.each(c,function(){if(this.context)this.context.dataItem==d&&b.push(this)})});return b},f19:function(b){if(!b){this._e5();return null}var a=this.getShapesPerData(b);if(a.length==0)return null;this.f13(a);this.f14(a);var c=a[0].getCenter();this.f16(a,{locX:c.x,locY:c.y});return a}};a.fn.jqSprintf=function(){function e(a,c,e,d){var b=a.length>=c?"":Array(1+c-a.length>>>0).join(e);return d?a+b:b+a}function d(a,d,b,c,g){var f=c-a.length;if(f>0)if(b||!g)a=e(a,c," ",b);else a=a.slice(0,d.length)+e("",f,"0",true)+a.slice(d.length);return a}function c(b,f,a,g,i,h,j){var c=b>>>0;a=a&&c&&({"2":"0b","8":"0","16":"0x"})[f]||"";b=a+e(c.toString(f),h||0,"0",false);return d(b,a,g,i,j)}function g(a,c,e,b,f){if(b!=null)a=a.slice(0,b);return d(a,"",c,e,f)}var b=arguments,f=0,h=b[f++];return h.replace(a.fn.jqSprintf.regex,function(t,s,q,a,w,h,m){if(t=="%%")return"%";for(var j=false,n="",k=false,l=false,r=0;q&&r<q.length;r++)switch(q.charAt(r)){case" ":n=" ";break;case"+":n="+";break;case"-":j=true;break;case"0":k=true;break;case"#":l=true}if(!a)a=0;else if(a=="*")a=+b[f++];else if(a.charAt(0)=="*")a=+b[a.slice(1,-1)];else a=+a;if(a<0){a=-a;j=true}if(!isFinite(a))throw new Error("sprintf: (minimum-)width must be finite");if(!h)h="fFeE".indexOf(m)>-1?6:m=="d"?0:void 0;else if(h=="*")h=+b[f++];else if(h.charAt(0)=="*")h=+b[h.slice(1,-1)];else h=+h;var i=s?b[s.slice(0,-1)]:b[f++];switch(m){case"s":return g(String(i),j,a,h,k);case"c":return g(String.fromCharCode(+i),j,a,h,k);case"b":return c(i,2,l,j,a,h,k);case"o":return c(i,8,l,j,a,h,k);case"x":return c(i,16,l,j,a,h,k);case"X":return c(i,16,l,j,a,h,k).toUpperCase();case"u":return c(i,10,l,j,a,h,k);case"i":case"d":var o=parseInt(+i),p=o<0?"-":n;i=p+e(String(Math.abs(o)),h,"0",false);return d(i,p,j,a,k);case"e":case"E":case"f":case"F":case"g":case"G":var o=+i,p=o<0?"-":n,v=(["toExponential","toFixed","toPrecision"])["efg".indexOf(m.toLowerCase())],u=(["toString","toUpperCase"])["eEfFgG".indexOf(m)%2];i=p+Math.abs(o)[v](h);return d(i,p,j,a,k)[u]();default:return t}})};a.fn.jqSprintf.regex=/%%|%(\d+\$)?([-+#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g;var O=-Number.MAX_VALUE,G=Number.MAX_VALUE;function b(){}b.isNull=function(a){return a===null||a===undefined};b.roundH=function(a){return Math.round(a)-.5};b.round=function(a){var c=1/a;if(Math.abs(c)>1e4){var d=b.log10(Math.abs(c));if(d>13)return a}var e=a.toPrecision(14),f=parseFloat(e);return f};b.log10=function(a){return Math.log(a)/Math.LN10};b.log=function(b,a){return Math.log(b)/Math.log(a)};b.radians=function(a){return a*(Math.PI/180)};b.fitInRange=function(a,c,b){if(a<c)a=c;else if(a>b)a=b;return a};b.sum=function(b){for(var c=0,a=0;a<b.length;a++)c+=b[a];return c};b.compareArrays=function(a,b){if(!a&&!b)return true;if(!a||!b)return false;if(a.length!=b.length)return false;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return false;return true};b.rotatePointAt=function(j,k,c,a,b){var e=Math.sin(c),d=Math.cos(c),f=j-a,g=k-b,h=a+f*d-g*e,i=b+f*e+g*d;return{x:h,y:i}};b.rotatePointsAt=function(d,h,f,g){for(var c=[],a=0;a<d.length;a+=2){var e=b.rotatePointAt(d[a],d[a+1],h,f,g);c.push(e.x);c.push(e.y)}return c};b.reversePoints=function(c){for(var b=[],a=c.length-2;a>=0;a-=2){b.push(c[a]);b.push(c[a+1])}return b};function i(){}i.ticksInDay=24*60*60*1e3;i.getDaysInMonth=function(b,a){return a==1?(new Date(b,1,29)).getDate()==29?29:28:([31,undefined,31,30,31,30,31,31,30,31,30,31])[a]};i.addSeconds=function(c,b){return new Date(c.getTime()+b*1e3)};i.addDays=function(c,a){a=Math.max(a,1);var b=new Date(c.getTime());b.setDate(c.getDate()+a);return b};i.addYears=function(b,c){var a=new Date(b.getTime());a.setFullYear(b.getFullYear()+c);return a};i.addMonths=function(c,b){var a=new Date(c.getTime()),d=a.getDate();a.setDate(1);a.setMonth(a.getMonth()+b);a.setDate(Math.min(d,i.getDaysInMonth(a.getFullYear(),a.getMonth())));return a};i.getDayOfWeek=function(b){var a=b.getDay();return a===0?7:a};i.fromDays=function(a){return a*i.ticksInDay};i.fromHours=function(a){return a*60*60*1e3};i.fromMinutes=function(a){return a*60*1e3};i.fromSeconds=function(a){return a*1e3};i.roundToDay=function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())};function c(){this.fillStyle="black";this.strokeStyle="black";this.lineWidth=1;this.lineCap="butt";this.lineJoin="miter";this.miterLimit=10;this.visible=true;this.shadowColor="rgba(0, 0, 0, 0)";this.shadowBlur=0;this.shadowOffsetX=0;this.shadowOffsetY=0}c.compare=function(b,e,a,j){if(!b.useHitTestArea&&!e.useHitTestArea)return true;if(b.useHitTestArea&&!e.useHitTestArea)return b.hitTest(a.locX,a.locY,j/3);if(b.hitTest(a.locX,a.locY,0))return true;var f=b.getCenter(a),g=e.getCenter(a),c=a.locX-f.x,d=a.locY-f.y,h=Math.sqrt(c*c+d*d);c=a.locX-g.x;d=a.locY-g.y;var i=Math.sqrt(c*c+d*d);return h<=i};c.getColorFromFillStyle=function(a){if(a==null)return"#dddddd";if(typeof a=="string")return a;if(a.colorStops&&a.colorStops[0]){var b=a.colorStops[0].color;return b!="white"&&b!="#ffffff"?b:a.colorStops[1].color}return"#dddddd"};c.prototype.hitTest=function(){return false};c.prototype.boundsHitTest=function(b,c,a){if(!this.useHitTestArea)a=0;return b>=this.x-a&&b<=this.x+this.width+a&&c>=this.y-a&&c<=this.y+this.height+a};c.prototype.render=function(a){this.setProperties(a)};c.prototype.renderDashedLine=function(f,h,g,i,l,c){var r=function(a,b){return a<=b},q=function(a,b){return a>=b},n=function(a,b){return Math.min(a,b)},m=function(a,b){return Math.max(a,b)},d={thereYet:q,cap:n},e={thereYet:q,cap:n};c.beginPath();if(h-i>0){e.thereYet=r;e.cap=m}if(f-g>0){d.thereYet=r;d.cap=m}c.moveTo(f,h);var a=f,b=h,k=0,j=true,s=l.length;while(!(d.thereYet(a,g)&&e.thereYet(b,i))){var o=Math.atan2(i-h,g-f),p=l[k];a=d.cap(g,a+Math.cos(o)*p);b=e.cap(i,b+Math.sin(o)*p);if(j)c.lineTo(a,b);else c.moveTo(a,b);k=(k+1)%s;j=!j}this.strokeStyle!=null&&this.lineWidth>0&&c.stroke()};c.prototype.setProperties=function(a){a.fillStyle=this._createGradient(a,this.fillStyle)||"#000000";a.strokeStyle=this.strokeStyle||"#000000";a.lineWidth=this.lineWidth||0;a.lineCap=this.lineCap;a.lineJoin=this.lineJoin;a.miterLimit=this.miterLimit;a.shadowColor=this.shadowColor;a.shadowBlur=this.shadowBlur;a.shadowOffsetX=this.shadowOffsetX;a.shadowOffsetY=this.shadowOffsetY};c.prototype.calculateBounds=function(a){if(a==null)return;for(var b=G,c=G,e=O,f=O,d=0;d<a.length;d+=2){var g=a[d],h=a[d+1];b=Math.min(b,g);c=Math.min(c,h);e=Math.max(e,g);f=Math.max(f,h)}this.x=b;this.y=c;this.width=e-b;this.height=f-c;this.center=this.getCenter()};c.prototype.getCenter=function(){return this.center?this.center:{x:this.x+this.width/2,y:this.y+this.height/2}};c.prototype.getTooltipColor=function(){return c.getColorFromFillStyle(this.fillStyle)};c.prototype._createGradient=function(h,c){if(c==null||typeof c=="string"||this.width==null||this.height==null||this.x==null||this.y==null)return c;var d,b={x0:0,y0:0,x1:1,y1:1,r0:0,r1:1};a.extend(b,c);switch(c.type){case"radialGradient":var k=this.x+b.x0*this.width,m=this.y+b.y0*this.height,i=b.r0*this.width/2,l=this.x+b.x1*this.width,n=this.y+b.y1*this.height,j=b.r1*this.width/2;d=h.createRadialGradient(k,m,i,l,n,j);break;default:var q=this.x+b.x0*this.width,r=this.y+b.y0*this.height,p=this.x+b.x1*this.width,o=this.y+b.y1*this.height;d=h.createLinearGradient(q,r,p,o)}var e=b.colorStops;if(e!=null)for(var f=0;f<e.length;f++){var g=e[f];d.addColorStop(g.offset||0,g.color)}return d};c.prototype.f15=function(d){var b=new c;a.extend(b,this);b.fillStyle=b.highlightingFillStyle||d;return b};c.prototype.f11=function(d,f,e,c,b){var a=this._getTooltipOrigin(d);return this.f11FromOrigin(a.x,a.y,f,e,c,b)};c.prototype._getTooltipOrigin=function(){return this.tooltipOrigin?this.tooltipOrigin:{x:this.x+this.width/2,y:this.y}};c.prototype.f11FromOrigin=function(d,e,g,f){var a=15,b=d-g-a,c=e-f+10;if(b<0)b=Math.max(0,d+a);if(c<0)c=Math.max(0,e-a);return{x:b,y:c}};c.prototype._getAnimationPoints=function(c,a){if(c.length==a)return c;var d=a%2;a-=d;var f=c.slice(0,a);d/=2;var i=c[a-2],g=c[a-1],h=c[a],e=c[a+1];if(!b.isNull(g)&&!b.isNull(e)){h=i+(h-i)*d;e=g+(e-g)*d;f.push(h);f.push(e)}return f};function k(a,d,b,e){c.call(this);this.x1=a;this.y1=d;this.x2=b;this.y2=e;this.useHitTestArea=true}k.prototype=new c;k.constructor=new k;k.prototype.hitTest=function(f,g,j){var b=this.x1,d=this.y1,c=this.x2,e=this.y2,a=Math.max(j,Math.max(3,this.lineWidth/2));if(b==c){var h=f+1;return h>b-a&&h<c+a&&g>=d-a&&g<=e+a?true:false}if(d==e){var i=g+.5;return f>=b-a&&f<=c+a&&i>d-a&&i<e+a?true:false}return false};k.prototype.hitTestNonHV=function(k,l,j){var a=this.x1,b=this.y1,c=this.x2,d=this.y2;if(a<c){this.x=a;this.width=c-a}else{this.x=c;this.width=a-c}if(b<d){this.y=b;this.width=d-b}else{this.y=d;this.width=b-d}if(this.boundsHitTest(k,l,j)==false)return false;var g=c-a,h=d-b,e,f,i;if(g==0){e=1;f=0;i=-a}else if(h==0){e=0;f=-1;i=-b}else if(Math.abs(g)<Math.abs(h)){e=1;f=g/h;i=-((a*d-b*c)/h)}else{e=-(h/g);f=-1;i=-((b*c-a*d)/g)}var n=Math.sqrt(e*e+f*f),m=(e*k-f*l+i)/n,o=Math.max(j,3);return Math.abs(m)<o?true:false};k.prototype.render=function(a){if(!this.visible)return;c.prototype.render.call(this,a);var d=Math.floor(this.lineWidth%2)?b.roundH:Math.round;if(this.dontRound)d=function(a){return a};var e=d(this.x1),g=d(this.y1),f=d(this.x2),h=d(this.y2);if(this.strokeDashArray){this.renderDashedLine(e,g,f,h,this.strokeDashArray,a);return}a.beginPath();a.moveTo(e,g);a.lineTo(f,h);this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function h(d,e,b,a){c.call(this);this.x=d;this.y=e;this.width=b;this.height=a;this.cornerRadius=0}h.prototype=new c;h.constructor=new h;h.prototype.hitTest=function(b,c,a){return this.boundsHitTest(b,c,a)};h.prototype.render=function(d){if(!this.visible)return;c.prototype.render.call(this,d);var j=this.strokeStyle!=null&&this.lineWidth>0,m=j&&Math.floor(this.lineWidth%2)?b.roundH:Math.round,l=this.correction||0;l=Math.round(l);var h=m(this.x),i=m(this.y),f=Math.round(this.width),e=Math.round(this.height),a=this.context;if(this.xDecrease){var k=a.series.realYAxis.crossing,g=Math.round(this.xDecrease);f-=g;if(a&&(a.y<k||a.from>=a.to))h+=g}if(!b.isNull(this.yDecrease)){var k=a.series.realYAxis.crossing,g=Math.round(this.yDecrease);e-=g;if(!a||a.y>=k||a.from<a.to)i+=g}if(f<=0||e<=0)return;if(this.cornerRadius==0)this.renderRectPath(d,h,i,f,e);else this.renderRoundedRectPath(d,h,i,f,e);this.fillStyle!=null&&d.fill();j&&d.stroke()};h.prototype.renderRectPath=function(a,b,c,e,d){a.beginPath();a.moveTo(b,c);a.lineTo(b+e,c);a.lineTo(b+e,c+d);a.lineTo(b,c+d);a.closePath()};h.prototype.renderRoundedRectPath=function(b,c,d,g,f){var a=this.cornerRadius,e=Math.PI/2;b.beginPath();b.moveTo(c+a,d);b.lineTo(c+g-a,d);b.arc(c+g-a,d+a,a,-e,0,false);b.lineTo(c+g,d+f-a);b.arc(c+g-a,d+f-a,a,0,e,false);b.lineTo(c+a,d+f);b.arc(c+a,d+f-a,a,e,2*e,false);b.lineTo(c,d+a);b.arc(c+a,d+a,a,2*e,-e,false);b.closePath()};function s(d,e,b,a){c.call(this);this.x=d;this.y=e;this.width=b;this.height=a}s.prototype=new c;s.constructor=new s;s.prototype.hitTest=function(f,g,a){if(this.boundsHitTest(f,g,a)==false)return false;var c=(this.width+a)/2,b=(this.height+a)/2,h=this.x+c,i=this.y+b,d=f-h,e=g-i,j=d*d/(c*c),k=e*e/(b*b);return j+k<=1};s.prototype.render=function(a){if(!this.visible)return;c.prototype.render.call(this,a);var d=this.x,f=this.y,l=this.width,k=this.height,g=this.width/2*.5522848,h=this.height/2*.5522848,i=d+l,j=f+k,e=d+l/2,b=f+k/2;a.beginPath();a.moveTo(d,b);a.bezierCurveTo(d,b-h,e-g,f,e,f);a.bezierCurveTo(e+g,f,i,b-h,i,b);a.bezierCurveTo(i,b+h,e+g,j,e,j);a.bezierCurveTo(e-g,j,d,b+h,d,b);a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function t(b,d,a){c.call(this);this.x=b;this.y=d;this.radius=a;this.width=this.height=2*a}t.prototype=new c;t.constructor=new t;t.prototype.hitTest=function(e,f,a){var c=this.x+this.width/2,d=this.y+this.height/2,b=Math.pow(e-c,2)+Math.pow(f-d,2);return b>Math.pow(this.radius+a,2)?false:true};t.prototype.render=function(a){if(!this.visible)return;c.prototype.render.call(this,a);a.beginPath();var b=this.radius;a.arc(Math.round(this.x+b),Math.round(this.y+b),Math.round(b),0,Math.PI*2,false);a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function D(f,g,a,b,d){c.call(this);this.x=f;this.y=g;this.radius=a;this.startAngle=b;this.endAngle=d;this.width=this.height=2*a;var e=(b+d)/2,h=f+a*Math.cos(e),i=g+a*Math.sin(e);this.center=this.tooltipOrigin={x:h,y:i}}D.prototype=new c;D.constructor=new D;D.prototype.hitTest=function(d,e){var b=this.x,c=this.y,f=Math.pow(d-b,2)+Math.pow(e-c,2);if(f>Math.pow(this.radius,2))return false;var g=b-d,h=c-e,a=Math.atan2(h,g)+Math.PI;if(a>3*Math.PI/2)a-=2*Math.PI;return a>=this.startAngle&&a<this.endAngle?true:false};D.prototype.render=function(a){if(!this.visible)return;if(this.startAngle==this.endAngle)return;c.prototype.render.call(this,a);a.beginPath();var b=Math.round(this.x),d=Math.round(this.y);a.moveTo(b,d);a.arc(b,d,Math.round(this.radius),this.startAngle,this.endAngle,false);a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function e(){c.call(this)}e.prototype=new c;e.constructor=new e;e.prototype.hitTest=function(j,k,g){var e=this.context;if(!e||!e.points)return this.boundsHitTest(j,k,g);for(var d=this.pts,l=Math.pow(g,2),c=-1,f=G,h,i,b,a=0;a<d.length;a+=2){h=d[a];i=d[a+1];b=Math.pow(j-h,2)+Math.pow(k-i,2);if(b>f||b>l)continue;f=b;c=a}return c==-1?false:this.createHighlightMark(c)};e.prototype.createHighlightMark=function(c){if(c==-1)return null;var d=this.context,f=this.pts,g=d.points[c/2],e=5,b=new t(f[c]-e,f[c+1]-e,e);b.fillStyle=b.highlightingFillStyle=this.strokeStyle;b.strokeStyle="white";b.lineWidth=1;b.useHitTestArea=true;b.context={series:d.series,chart:d.chart};a.extend(b.context,g);return b};e.prototype.getCenter=function(g){if(this.center)return this.center;var e=this.context;if(!e||!e.points)return{x:this.x+this.width/2,y:this.y+this.height/2};for(var b=this.pts,a=0,f=G,h=g.locX,d,c=0;c<b.length;c+=2){d=Math.abs(b[c]-h);if(f>d){f=d;a=c}}return{x:b[a],y:b[a+1],mark:this.createHighlightMark(a)}};e.prototype.getLength=function(){return this.pts.length};function o(b,a){e.call(this);this.pts=b;if(a){this.isBoundsHitTest=a;this.calculateBounds(b)}}o.prototype=new e;o.constructor=new o;o.prototype.renderPoints=function(a,c){var g=c.length;if(g<=2)return;if(this.strokeDashArray){this.renderDashed(a,c);return}for(var h=this.nullHandling!="connect",e=true,b=2;b<g;b+=2){var d=c[b];if(d==null){if(h){a.stroke();e=false}continue}var f=c[b+1];if(!e){a.beginPath();a.moveTo(d,f);e=true;continue}a.lineTo(d,f);if(b%1e3==0){a.stroke();a.beginPath();a.moveTo(d,f)}}};o.prototype.render=function(d){if(!this.visible)return;c.prototype.render.call(this,d);var a=this.pts;if(!b.isNull(this.length))a=this._getAnimationPoints(a,this.length);var e=a.length;if(e<=2)return;d.beginPath();d.moveTo(a[0],a[1]);this.renderPoints(d,a);this.strokeStyle!=null&&this.lineWidth>0&&d.stroke()};o.prototype.renderDashed=function(k,f){for(var j=f.length,i=this.nullHandling!="connect",h=this.strokeDashArray,c=false,d,e,a=0;a<j;a+=2){var b=f[a];if(b==null){if(i)c=false;continue}var g=f[a+1];if(!c){d=b;e=g;c=true;continue}this.renderDashedLine(d,e,b,g,h,k);d=b;e=g}};function q(a,b){e.call(this);if(!a)return;this.closed=b;this.pts=a;this.calculateBounds(a)}q.prototype=new e;q.constructor=new q;q.prototype.renderPoints=function(f,i){var g=.4,h=this.closed,b=[];a.merge(b,i);var d=[],e=b.length;if(e<=2)return;if(e==4){f.lineTo(b[2],b[3]);return}if(h){b.push(b[0],b[1],b[2],b[3]);b.unshift(b[e-1]);b.unshift(b[e-1]);for(var c=0;c<e;c+=2)d=d.concat(this.getControlPoints(b[c],b[c+1],b[c+2],b[c+3],b[c+4],b[c+5],g));d=d.concat(d[0],d[1]);for(var c=2;c<e+2;c+=2)f.bezierCurveTo(d[2*c-2],d[2*c-1],d[2*c],d[2*c+1],b[c+2],b[c+3])}else{for(var c=0;c<e-4;c+=2)d=d.concat(this.getControlPoints(b[c],b[c+1],b[c+2],b[c+3],b[c+4],b[c+5],g));f.quadraticCurveTo(d[0],d[1],b[2],b[3]);for(var c=2;c<e-5;c+=2)f.bezierCurveTo(d[2*c-2],d[2*c-1],d[2*c],d[2*c+1],b[c+2],b[c+3]);f.quadraticCurveTo(d[2*e-10],d[2*e-9],b[e-2],b[e-1])}};q.prototype.render=function(a){if(!this.visible)return;c.prototype.render.call(this,a);var d=this.pts;if(!b.isNull(this.length))d=this._getAnimationPoints(d,this.length);var e=d.length;if(e<4)return;a.beginPath();a.moveTo(d[0],d[1]);this.renderPoints(a,d);if(this.closed){a.closePath();this.fillStyle!=null&&a.fill()}this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};q.prototype.getControlPoints=function(d,f,a,b,e,g,j){var h=Math.sqrt(Math.pow(a-d,2)+Math.pow(b-f,2)),k=Math.sqrt(Math.pow(e-a,2)+Math.pow(g-b,2)),c=j*h/(h+k),i=j-c,l=a+c*(d-e),m=b+c*(f-g),n=a-i*(d-e),o=b-i*(f-g);return[l,m,n,o]};function L(b,c,f,g){e.call(this);this.pts=b;this.crossPos=c;this.vertical=f;this.isCurve=g;if(b&&b.length>=2){var d=[];a.merge(d,b);if(f)a.merge(d,[c,b[b.length-1],c,b[1]]);else a.merge(d,[b[b.length-2],c,b[0],c]);this.calculateBounds(d)}}L.prototype=new e;L.constructor=new L;L.prototype.render=function(d){if(!this.visible)return;c.prototype.render.call(this,d);var a=this.pts;if(!b.isNull(this.length))a=this._getAnimationPoints(a,this.length);var f=a.length;if(f<=2)return;var e;if(this.isCurve)e=new q(a);else e=new o(a);d.beginPath();d.moveTo(a[0],a[1]);e.renderPoints(d,a);if(this.vertical){d.lineTo(this.crossPos,a[a.length-1]);d.lineTo(this.crossPos,a[1])}else{d.lineTo(a[a.length-2],this.crossPos);d.lineTo(a[0],this.crossPos)}d.closePath();this.fillStyle!=null&&d.fill();this.strokeStyle!=null&&this.lineWidth>0&&d.stroke()};function C(c,d,f){e.call(this);if(!c)return;this.pts1=c;this.pts2=d;this.pts=[];a.merge(this.pts,c);a.merge(this.pts,b.reversePoints(d));this.calculateBounds(this.pts);this.isCurve=f}C.prototype=new e;C.constructor=new C;C.prototype.getLength=function(){return this.pts.length/2};C.prototype.render=function(d){if(!this.visible)return;c.prototype.render.call(this,d);var e=this.pts1,a=this.pts2;if(!b.isNull(this.length)){e=this._getAnimationPoints(e,this.length);a=this._getAnimationPoints(a,this.length)}a=b.reversePoints(a);var g=e.length;if(g<2)return;var f;if(this.isCurve)f=new q(e);else f=new o(e);d.beginPath();d.moveTo(e[0],e[1]);f.renderPoints(d,e);d.lineTo(a[0],a[1]);if(this.isCurve)f=new q(a);else f=new o(a);f.renderPoints(d,a);d.closePath();this.fillStyle!=null&&d.fill();this.strokeStyle!=null&&this.lineWidth>0&&d.stroke()};function g(a){e.call(this);this.pts=a;this.calculateBounds(a)}g.prototype=new e;g.constructor=new g;g.prototype.hitTest=function(k,a,i){var l=this.context;if(l&&l.points)return e.prototype.hitTest.call(this,k,a,i);var o=this.boundsHitTest(k,a,i);if(o==false)return false;if(this.isBoundsHitTest&&i)return true;for(var b=this.pts,h=false,m=b.length,j,c,n,f,d=0,g=0;g<m;g+=2){d+=2;if(d==m)d=0;j=b[g];c=b[g+1];n=b[d];f=b[d+1];if(c<a&&f>=a||f<a&&c>=a)if(j+(a-c)/(f-c)*(n-j)<k)h=!h}return h};g.prototype.render=function(a){if(!this.visible)return;c.prototype.render.call(this,a);var d=this.pts,g=d.length;if(g<4)return;var e=Math.floor(this.lineWidth%2)?b.roundH:Math.round;if(this.dontRound)e=function(a){return a};a.beginPath();a.moveTo(e(d[0]),e(d[1]));for(var f=2;f<g;f+=2)a.lineTo(e(d[f]),e(d[f+1]));a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function j(a,b,c){this.text=a;this.x=b;this.y=c;this.strokeStyle=null;this.textBaseline="middle";this.font="10px sans-serif";this.textAlign="left"}j.prototype=new c;j.constructor=j;j.prototype.render=function(a){if(!this.visible)return;c.prototype.render.call(this,a);var d=b.roundH(this.x),e=b.roundH(this.y);if(this.rotationAngle&&!b.isNull(this.rotX)&&!b.isNull(this.rotY)){a.save();a.translate(this.rotX,this.rotY);a.rotate(this.rotationAngle);this.flip&&a.scale(-1,-1);this.fillStyle!=null&&a.fillText(this.text,0,0);this.strokeStyle!=null&&a.strokeText(this.text,0,0);a.restore()}else{this.fillStyle!=null&&a.fillText(this.text,d,e);this.strokeStyle!=null&&a.strokeText(this.text,d,e)}};j.prototype.measure=function(a){this.setProperties(a);var d=a.measureText(this.text),b=parseFloat(this.font)||0,c=d.width;this.width=c;this.height=b;return{width:c,height:b}};j.prototype.isInRect=function(e,f,h,g){var a=this.x,b=this.y,d=this.width,c=this.height;switch(this.textAlign){case"center":a-=d/2;break;case"right":a-=d}switch(this.textBaseline){case"middle":b-=c/2;break;case"bottom":b-=c}return a>=e&&b>=f&&a+d<=e+h&&b+c<=f+g};j.prototype.setProperties=function(a){c.prototype.setProperties.call(this,a);a.font=this.font;a.textAlign=this.textAlign;a.textBaseline=this.textBaseline};j.prototype.hitTest=function(b,c,a){return!this.isLegendItem?false:this.boundsHitTest(b,c,a)};function p(b,c,a){this.x=b;this.y=c;this.src=a}p.prototype=new c;p.constructor=p;p.prototype.hitTest=function(b,c,a){return this.boundsHitTest(b,c,a)};p.prototype.render=function(e){if(!this.visible)return;var b=new Image,c=this.x,d=this.y,a=this;b.onload=function(){var g=b.width,f=b.height;c-=g/2;d-=f/2;a.x=c;a.y=d;if(a.offsetX)c+=a.offsetX;if(a.offsetY)d+=a.offsetY;a.width=g;a.height=f;e.drawImage(b,c,d)};b.src=this.src};p.prototype.f15=function(b){var a=new h;a.context=this.context;a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;a.fillStyle=b;a.strokeStyle="grey";return a};function u(a,b){if(this.canvas==null){this.canvas=a;this.ctx=this._getContext(this.canvas)}this.chart=b}u.prototype._getContext=function(a){return a.getContext?a.getContext("2d"):null};u.prototype._render=function(g){var e=this.offsetX&&this.offsetY,f=this.chart.options,c=this.ctx;if(!b.isNull(f.globalAlpha))c.globalAlpha=f.globalAlpha;if(e){c.save();c.translate(this.offsetX,this.offsetY)}for(var d=0;d<g.length;d++){var a=g[d];if(a){!this.isHighlighting&&a.context&&a.context.series&&this.chart.elem.trigger("shapeRendering",a);if(a.src&&this.isExcanvas){a.offsetX=this.offsetX;a.offsetY=this.offsetY;c.translate(-this.offsetX,-this.offsetY);a.render(c);c.translate(this.offsetX,this.offsetY)}else{var h=a.shadowColor;a.shadowColor=null;a.render(c);a.shadowColor=h}}}e&&c.restore()};u.prototype._renderShadows=function(h){if(d.use_excanvas)return;var f=this.offsetX&&this.offsetY,g=this.chart.options,a=this.ctx;if(!b.isNull(g.globalAlpha))a.globalAlpha=g.globalAlpha;if(f){a.save();a.translate(this.offsetX,this.offsetY)}for(var e=0;e<h.length;e++){var c=h[e];c&&c.shadowColor&&c.render(a)}f&&a.restore()};u.prototype._clear=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)};function F(a){this.defaults={visible:true,strokeStyle:"black",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,cornerRadius:10,padding:4};this.x=0;this.y=0;this.setOptions(a)}F.prototype._setShapeSettings=function(a){a.fillStyle=this.fillStyle;a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.lineCap=this.lineCap;a.lineJoin=this.lineJoin;a.miterLimit=this.miterLimit;a.cornerRadius=this.cornerRadius};F.prototype._render=function(c){if(!this.visible)return;var a=this.lineWidth/2,f=this.x+a,g=this.y+a,e=this.width-2*a,d=this.height-2*a,b=new h(f,g,e,d);this._setShapeSettings(b);c.push(b)};F.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};F.prototype.getPadding=function(){return!this.visible?0:this.lineWidth+this.cornerRadius/2+this.padding};function A(a){this.defaults={visible:true,strokeStyle:"black",lineWidth:1,padding:4};this.x=0;this.y=0;this.setOptions(a)}A.prototype._setShapeSettings=function(a){a.fillStyle=this.fillStyle;a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth};A.prototype._render=function(c){if(!this.visible)return;var a=this.lineWidth/2,f=this.x+a,g=this.y+a,e=this.width-2*a,d=this.height-2*a,b=new s(f,g,e,d);this._setShapeSettings(b);c.push(b)};A.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};A.prototype.getPadding=function(){return!this.visible?0:this.lineWidth+this.padding};function H(a){this.defaults={font:"14px sans-serif",fillStyle:"black",lineWidth:0,margin:6};this.x=0;this.y=0;this.setOptions(a)}H.prototype._render=function(a){if(this.text==null)return;this.textBlock.x=this.x+this.margin;this.textBlock.y=this.y+this.margin;this.textBlock.rotX=this.rotX;this.textBlock.rotY=this.rotY;this.textBlock.rotationAngle=this.rotationAngle;a.push(this.textBlock)};H.prototype._measure=function(){var a;if(!this.text){this.width=0;this.height=0;return}a=this.textBlock.measure(this.chart.ctx);var b=2*this.margin;this.width=a.width+b;this.height=a.height+b};H.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b);this.textBlock=new j(this.text);this.textBlock.textBaseline="top";this.textBlock.font=this.font;this.textBlock.fillStyle=this.fillStyle;this.textBlock.strokeStyle=this.strokeStyle;this.textBlock.lineWidth=this.lineWidth};function x(a){this.gauge=a}x.prototype=new H;x.constructor=x;x.prototype._render=function(e){var a=this.gauge;if(this.text==null||!a)return;var c=b.fitInRange(this.horizontalOffset,0,1),d=b.fitInRange(this.verticalOffset,0,1),f=c*a._width,g=d*a._height;this.textBlock.textAlign="center";this.textBlock.textBaseline="center";this.textBlock.x=f;this.textBlock.y=g;this.textBlock.measure(a.ctx);this.textBlock.rotX=this.textBlock.getCenter().x;this.textBlock.rotY=this.textBlock.getCenter().y;this.textBlock.rotationAngle=b.radians(this.angle);e.push(this.textBlock)};function K(a){this.defaults={strokeStyle:"gray",lineWidth:1,visible:true};this.setOptions(a)}K.prototype._setLineSettings=function(a){a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.strokeDashArray=this.strokeDashArray};K.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};function E(a){this.defaults={strokeStyle:"black",lineWidth:1,length:6,position:"outside",visible:true,zIndex:2,offset:.4};this.setOptions(a)}E.prototype.isInside=function(){return this.position=="inside"};E.prototype._setLineSettings=function(a){a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.strokeDashArray=this.strokeDashArray};E.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};function N(a){this.defaults={fillStyle:"rgba(204, 204, 204, 0.5)",lineWidth:1};this.setOptions(a)}N.prototype._setSettings=function(a){a.fillStyle=this.fillStyle;a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth};N.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};function v(b){a.extend(this,{maxInter200Px:8,lblMargin:4,origin:0,length:300,x:0,y:0});this.setOptions(b)}v.prototype={_f1:function(m,l){if(this.interval)return this.interval;var h=1;if(!this.getOrientation||this.getOrientation()=="x")h=.8;for(var k=h*this.maxInter200Px,e=Math.max(this.length*k/200,1),g=l-m,a=g/e,j=Math.pow(10,Math.floor(b.log10(a))),f=[10,5,2,1],c=0;c<f.length;c++){var i=f[c],d=j*i;if(e<g/d)break;a=d}return a},_setVisibleRanges:function(){this._f2=b.isNull(this.visibleMinimum)?this.actualMinimum:this.visibleMinimum;this.actualVisibleMaximum=b.isNull(this.visibleMaximum)?this.actualMaximum:this.visibleMaximum;if(a.type(this._f2)=="date")this._f2=this._f2.getTime();if(a.type(this.actualVisibleMaximum)=="date")this.actualVisibleMaximum=this.actualVisibleMaximum.getTime();if(this.options){this.options.visibleMinimum=this.visibleMinimum;this.options.visibleMaximum=this.visibleMaximum}},_setMinMax:function(c,a){if(this.logarithmic){this.actualMinimum=b.isNull(this.minimum)?c:b.log(this.minimum,this.logBase);this.actualMaximum=b.isNull(this.maximum)?a:b.log(this.maximum,this.logBase)}else{this.actualMinimum=b.isNull(this.minimum)?c:this.minimum;this.actualMaximum=b.isNull(this.maximum)?a:this.maximum}},_getNextPosition:function(c,a){return b.round(c+a)},__f6:function(b,c){var a;if(b.interval)a=b.interval;else if(c)a=this.actualInterval;else a=this.actualInterval/2;return a},_getIntervals:function(c,b){var d=0;if(b&&b.intervalOffset)d=b.intervalOffset;for(var e=[],f=this._getIntervalStart(this._f2,c),a=f+d;a<=this.actualVisibleMaximum;a=this._getNextPosition(a,c))e.push(a);return e},_getIntervalStart:function(d,b){var c=d-this.crossing,a=this._alignToInterval(c,b);if(a<d)a=this._alignToInterval(c+b,b);return a},_alignToInterval:function(c,a){return b.round(b.round(Math.floor(c/a))*a)+this.crossing},_createLabel:function(d,c){var b=new j(d);b.context={chart:this.chart,axis:this};a.extend(b,c);this.chart.elem.trigger("axisLabelCreating",b);b.measure(this.chart.ctx);return b},_getLabelIntervals:function(a,b){return this._getIntervals(a,b)},_measureRotatedLabels:function(g){for(var h=this.isAxisVertical,c=0,b=0,d=0;d<g.length;d++){var a=g[d],e=Math.sqrt(a.width*a.width+a.height*a.height),f=a.rotationAngle;if(h){var j=Math.abs(Math.cos(f)*e);c=Math.max(c,j)}else{var i=Math.abs(Math.sin(f)*e);b=Math.max(b,i)}}if(this.labels.position=="inside"){this.lblsW=c;this.lblsH=b;return{w:0,h:0}}return{w:c,h:b}},_correctLabelsPositions:function(n){var i=0,h=0,o=this.reversed===true,p=this.labels.position=="inside",q=this.isAxisVertical,g=this.lblMargin;if(q){for(var e=[],d=0;d<n.length;d++){var a=n[d],f=false,k=a.y;switch(a.textBaseline){case"middle":k-=a.height/2;break;case"bottom":k-=a.height}for(var c=0,c=0;c<e.length;c++){var b=e[c];if(o)f=k>b.y+b.h;else f=b.y>k+a.height;if(f){b.y=k;b.h=a.height;b.w=Math.max(b.w,a.width+g);b.labels.push(a);break}}if(f==false)e[c]={y:k,h:a.height,w:a.width+g,labels:[a]}}var m=this.location=="right";m=p?!m:m;i=0;for(var d=0;d<e.length;d++){for(var b=e[d],c=0;c<b.labels.length;c++){var a=b.labels[c];if(m)a.x+=i;else a.x-=i}i+=b.w}}else{for(var e=[],d=0;d<n.length;d++){var a=n[d],j=a.x;switch(a.textAlign){case"center":j-=a.width/2;break;case"right":j-=a.width}for(var f=false,c=0,c=0;c<e.length;c++){var b=e[c];if(o)f=b.x>j+a.width+g;else f=j>b.x+b.w+g;if(f){b.x=j;b.w=a.width;b.h=Math.max(b.h,a.height+g);b.labels.push(a);f=true;break}}if(f==false)e[c]={x:j,w:a.width,h:a.height+g,labels:[a]}}var l=this.location=="bottom";l=p?!l:l;h=0;for(var d=0;d<e.length;d++){for(var b=e[d],c=0;c<b.labels.length;c++){var a=b.labels[c];if(l)a.y+=h;else a.y-=h}h+=b.h}}if(this.labels.position=="inside"){this.lblsW=i;this.lblsH=h;return{w:0,h:0}}return{w:i,h:h}},_removeOverlappedLabels:function(c){var i=0,h=0,f=0,n=0,k=0,g=0,m=0,l=G,r=this.reversed===true,t=this.labels.position=="inside",q=this.isAxisVertical,e=this.lblMargin,j=2*e;if(q)for(var u=[],b=0;b<c.length;b++){var d=b;if(this.reversed)d=c.length-b-1;var a=c[d],s=false,p=a.y;switch(a.textBaseline){case"middle":p-=a.height/2;break;case"bottom":p-=a.height}g=a.y;m=g+a.height+j;if(m<l)l=g;else{a.visible=false;continue}i=Math.max(a.width+e)}else for(var b=0;b<c.length;b++){var d=b;if(this.reversed)d=c.length-b-1;var a=c[d],o=a.x;switch(a.textAlign){case"center":o-=a.width/2;break;case"right":o-=a.width}f=a.x;n=f+a.width+j;if(f>k)k=n;else{a.visible=false;continue}h=Math.max(a.height+e)}if(this.labels.position=="inside"){this.lblsW=i;this.lblsH=h;return{w:0,h:0}}return{w:i,h:h}},_measure:function(){var b=0;if(this.zoomEnabled)b=this.rangeSlider.breadth;var a={w:0,h:0};if(this.labels)if(this.labels.angle)a=this._measureRotatedLabels(this._getLabels());else switch(this.labels.resolveOverlappingMode){case"hide":a=this._removeOverlappedLabels(this._getLabels());break;case"multipleRows":default:a=this._correctLabelsPositions(this._getLabels())}this.title._measure();var c=this.title.height+b+this.lineWidth;if(this.isAxisVertical)a.w+=c;else a.h+=c;var d=this.margin+this._getMaxOutsideTickMarksLength();if(this.isAxisVertical){if(this.isCustomWidth==false){var f=a.w+d;if(this.width!=f){this.width=f;return true}}}else if(this.isCustomHeight==false){var e=a.h+d;if(this.height!=e){this.height=e;return true}}return false},_arrange:function(){var a=this.x,d=this.y,c=this.x+this.width,e=this.y+this.height;switch(this.location){case"left":c=a=this.x+this.width-this.lineWidth/2;break;case"right":c=a=this.x+this.lineWidth/2;break;case"top":e=d=this.y+this.height-this.lineWidth/2;break;case"bottom":e=d=this.y+this.lineWidth/2}if(this.title.text)switch(this.location){case"left":this.title.rotX=this.x;this.title.rotY=this.y+(this.height+this.title.width)/2;this.title.rotationAngle=b.radians(-90);break;case"right":this.title.rotX=this.x+this.width;this.title.rotY=this.y+(this.height-this.title.width)/2;this.title.rotationAngle=b.radians(90);break;case"top":this.title.x=this.x+(this.width-this.title.width)/2;this.title.y=this.y;break;case"bottom":this.title.x=this.x+(this.width-this.title.width)/2;this.title.y=this.y+this.height-this.title.height}this.x1=a;this.y1=d;this.x2=c;this.y2=e;this.offset=this.lineWidth},_updateOrigin:function(){if(this.isAxisVertical){this.origin=this.y;this.length=this.height}else{this.origin=this.x;this.length=this.width}},_render:function(c){var e=this._f5(this.minorTickMarks,false);a.merge(c,e);var d=this._f5(this.majorTickMarks,true);a.merge(c,d);var f=this._getMainLine();c.push(f);var b=this._getLabels();if(this.labels&&!this.labels.angle)switch(this.labels.resolveOverlappingMode){case"hide":this._removeOverlappedLabels(b);break;case"multipleRows":default:this._correctLabelsPositions(b)}this._filterLabels(b);this.title._render(c);if(this.labels&&this.labels.position=="inside")return b;a.merge(c,b)},_getMainLine:function(){var a=new k(this.x1,this.y1,this.x2,this.y2);a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.strokeDashArray=this.strokeDashArray;return a},_getMaxInsideTickMarksLength:function(){var a=0;if(this.minorTickMarks!=null&&this.minorTickMarks.visible&&this.minorTickMarks.isInside())a=Math.max(a,this.minorTickMarks.length);if(this.majorTickMarks!=null&&this.majorTickMarks.visible&&this.majorTickMarks.isInside())a=Math.max(a,this.majorTickMarks.length);return a},_getMaxOutsideTickMarksLength:function(){var a=0;if(this.minorTickMarks!=null&&this.minorTickMarks.visible&&!this.minorTickMarks.isInside())a=Math.max(a,this.minorTickMarks.length);if(this.majorTickMarks!=null&&this.majorTickMarks.visible&&!this.majorTickMarks.isInside())a=Math.max(a,this.majorTickMarks.length);return a},_getLabels:function(){var c=this.labels;if(c==null||c.visible===false)return[];var g=c.position=="inside",e=this.lblMargin,j=this.offset,l=this.isAxisVertical;if(l&&c.vAlign=="center"||!l&&c.hAlign=="center")e+=g?this._getMaxInsideTickMarksLength():this._getMaxOutsideTickMarksLength();var m=[],o=this.__f6(c,true);if(!o)return[];for(var n=this._getLabelIntervals(o,c),p=n.length,r=c.showFirstLabel,s=c.showLastLabel,h=0;h<p;h++){if(!r&&h==0||!s&&h==p-1)continue;var q=n[h],t=this.getLabel(q),a=this._createLabel(t,c),k=this.getPosition(q);switch(this.location){case"left":if(g)a.x=this.x+this.width+e;else{a.x=this.x+this.width-e-j;a.textAlign="right"}a.y=k;switch(c.vAlign){case"bottom":a.textBaseline="top";break;case"top":a.textBaseline="bottom"}if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle)),f=b.radians(d);a.rotX=a.x;a.rotY=a.y;a.rotationAngle=f}break;case"right":if(g){a.x=this.x-e;a.textAlign="right"}else a.x=this.x+e+j;a.y=k;switch(c.vAlign){case"bottom":a.textBaseline="top";break;case"top":a.textBaseline="bottom"}if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle)),f=b.radians(d);a.rotX=a.x;a.rotY=a.y;a.rotationAngle=f}break;case"top":a.x=k;if(g)a.y=this.y+this.height+e+a.height/2;else a.y=this.y+this.height-e-a.height/2-j;a.textBaseline="middle";switch(c.hAlign){case"center":a.textAlign="center";break;case"left":a.textAlign="right";break;case"right":a.textAlign="left"}if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle));a.flip=d>0;if(d>0)d=-180+d;var f=b.radians(d),i=Math.sqrt(a.width*a.width+a.height*a.height);a.rotX=a.x+.5*Math.cos(f)*i;a.rotY=a.y+.5*Math.sin(f)*i;a.rotationAngle=f}break;case"bottom":a.x=k;if(g)a.y=this.y-e-a.height/2;else a.y=this.y+e+a.height/2+j;a.textBaseline="middle";switch(c.hAlign){case"center":a.textAlign="center";break;case"left":a.textAlign="right";break;case"right":a.textAlign="left"}if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle));a.flip=d<0;if(d<0)d=180+d;var f=b.radians(d),i=Math.sqrt(a.width*a.width+a.height*a.height);a.rotX=a.x+.5*Math.cos(f)*i;a.rotY=a.y+.5*Math.sin(f)*i;a.rotationAngle=f}}m.push(a)}return m},_filterLabels:function(b){if(!this.labels||this.labels.position!="inside")return;for(var c=this.chart.gridArea,i=c.x,j=c.y,h=c.width,g=c.height,d=b.length-1;d>=0;d--){var e=b[d];if(!e.isInRect(i,j,h,g)){var f=a.inArray(e,b);b.splice(f,1)}}},_f5:function(c,n){if(c==null||c.visible!=true)return[];for(var l=[],h=this.offset,g=c.position=="inside",p=this.__f6(c,n),b=c.length,m=this._getIntervals(p,c,n),d,f,e,a,j=0;j<m.length;j++){var i=this.getPosition(m[j]);switch(this.location){case"left":f=a=i;if(g)e=this.x+this.width+b;else e=this.x+this.width-h;d=e-b;break;case"right":f=a=i;if(g)d=this.x-b;else d=this.x+h;e=d+b;break;case"top":d=e=i;if(g)a=this.y+this.height+b;else a=this.y+this.height-h;f=a-b;break;case"bottom":d=e=i;if(g)a=this.y-b;else a=this.y+h;f=a+b}var o=new k(d,f,e,a);c._setLineSettings(o);l.push(o)}return l},_setChart:function(a){this.chart=a;this.title.chart=a},_getValue:function(a){return a},_initRadialMeasures:function(){var a=Math.min(this.width,this.height);this.cx=this.x+this.width/2;this.cy=this.y+this.height/2;this.radius=a/2},getZoom:function(){if(!this.actualMaximum)return 1;var b=this.actualMaximum-this.actualMinimum,a=this.actualVisibleMaximum-this._f2,c=a/b;return c},setOptions:function(c){if(c!=null&&typeof c.title=="string"){c.title={text:c.title};a.extend(c.title,this.defaults.title)}var b=a.extend(true,{},this.defaults,c||{});a.extend(this,b);this.options=c;this.isCustomWidth=this.width!=null;this.isCustomHeight=this.height!=null;this.majorTickMarks=new E(b.majorTickMarks);if(b.minorTickMarks){this.minorTickMarks=new E(b.minorTickMarks);this.minorTickMarks.major=this.majorTickMarks}if(b.majorGridLines)this.majorGridLines=new K(b.majorGridLines);if(b.minorGridLines){this.minorGridLines=new K(b.minorGridLines);this.minorGridLines.major=this.majorGridLines}this.isAxisVertical=this.isVertical();this.title=new H(b.title)},getPosition:function(f){var e=this.actualVisibleMaximum,d=this._f2,a=this.length/(e-d)*(f-d),b=this.reversed===true,c=this.isAxisVertical;if(c&&b===false||c===false&&b)a=this.origin+this.length-a;else a+=this.origin;return a},getValue:function(f){var e=this.actualVisibleMaximum,a=this._f2,b=(f-this.origin)*(e-a)/this.length+a,c=this.reversed===true,d=this.isAxisVertical;if(d&&c===false||d===false&&c)b=a+e-b;return b},getLabel:function(d){var b=null;if(this.labels!=null)b=this.labels.stringFormat;var c=a.fn.jqChart.labelFormatter(b,d);return c},isVertical:function(){return this.location=="left"||this.location=="right"?true:false},isValueVisible:function(a){if(this.logarithmic)a=b.log(a,this.logBase);return a>=this._f2&&a<=this.actualVisibleMaximum},isInVisibleRange:function(d){var c=this.visibleMinimum,a=this.visibleMaximum;if(b.isNull(c)||b.isNull(a))return true;if(this.logarithmic){c=b.log(c,this.logBase);a=b.log(a,this.logBase)}return d>=c&&d<=a},defaults:{location:"left",labels:{visible:true,fillStyle:"black",lineWidth:1,font:"11px sans-serif",position:"outside",showLastLabel:true,showFirstLabel:true,hAlign:"center",vAlign:"center"},title:{font:"14px sans-serif",margin:2},strokeStyle:"black",lineWidth:1,margin:5,crossing:0,visible:true,reversed:false,zoomEnabled:false}};function l(a){this.pluginClass="ui-jqlineargauge";this.tooltipClass="ui-jqlineargauge-tooltip";d.call(this,a)}l.prototype=new d;l.constructor=l;l.prototype._e1=function(a){d.prototype._e1.call(this,a);this._e2();this.border=new F};l.prototype._setOptions=function(j){var b=j||{};b.tooltips=a.extend(true,{},a.fn.jqLinearGauge.defaults.tooltips,b.tooltips);b.shadows=a.extend(true,{},a.fn.jqLinearGauge.defaults.shadows,b.shadows);this.hasTooltips=b.tooltips&&!b.tooltips.disabled;this.hasHighlighting=b.tooltips&&b.tooltips.highlighting;this.options=b;d.prototype._setOptions.call(this,b);var c=j||{};if(c.width)this.elem.css("width",c.width);else this.elem.width()==0&&this.elem.css("width","400px");if(c.height)this.elem.css("height",c.height);else this.elem.height()==0&&this.elem.css("height","50px");var m=this._width=this.elem.width(),l=this._height=this.elem.height();this._e11(this.canvas,m,l);this._e11(this.hlCanvas,m,l);this.border.setOptions(b.border);this.border.fillStyle=b.background||this.border.fillStyle;if(c.orientation&&c.orientation=="vertical")var p="left";else var p="bottom";var i=[];if(b.scales)for(var e=0;e<b.scales.length;e++){var k=b.scales[e];k.location=p;var f=new n;f.setOptions(k);f._setChart(this);i.push(f)}var g=[];if(b.annotations)for(var e=0;e<b.annotations.length;e++){var o=b.annotations[e],h=new x(this);h.setOptions(o);g.push(h)}this.annotations=g;this.scales=i;this.update()};l.prototype._measure=function(){for(var a=0;a<this.scales.length;a++)this.scales[a]._measure();return false};l.prototype._arrange=function(){var e=this._width,c=this._height;this.border.width=e;this.border.height=c;var b=this.border.getPadding();e-=2*b;c-=2*b;for(var f=b,g=b,d=0;d<this.scales.length;d++){var a=this.scales[d];a.x=f+a.margin.left;a.y=g+a.margin.top;a.width=e-a.margin.left-a.margin.right;a.height=c-a.margin.top-a.margin.bottom;a._updateOrigin();a._arrange()}};l.prototype.f14=function(b){if(!this.hasTooltips||!b||!b.length)return;var g=b.length,e="",d;if(g==1)d=b[0].context;else{d=[];a.each(b,function(){d.push(this.context)})}if(!d)return;var f=new jQuery.Event("tooltipFormat");this.elem.trigger(f,[d]);var h=this;if(f.result)e=f.result;else a.each(b,function(){e+=h._getTooltip(this)});this.tooltip.html(e);var c=this.options.tooltips;if(g==1)if(c.borderColor){c.borderColor=="auto"&&this.tooltip.css("border-color",b[0].getTooltipColor());this.tooltip.css("border-color",c.borderColor)}c.background&&this.tooltip.css("background",c.background);if(e!="")this.f18();else this.tooltip.hide()};l.prototype._getTooltip=function(a){var b="";if(a.context.title)b+=a.context.title;if(a.context.title&&a.context.value)b+=": "+a.context.value;else if(a.context.value)b+=a.context.value;return b};l.prototype.render=function(){this.clear();var c=[];this.border._render(c);for(var d=[],b=0;b<this.scales.length;b++)this.scales[b]._render(d);var e=function(a,b){return a.zIndex-b.zIndex};d.sort(e);a.merge(c,d);for(var b=0;b<this.annotations.length;b++)this.annotations[b]._render(c);this.shapeRenderer._render(c);this.shapes=d};l.prototype.update=function(){this._measure();this._arrange();for(var a=0;a<this.scales.length;a++)this.scales[a]._initRange();this.render()};function n(b){var c=a.extend(true,{},this.defaults,{minimum:0,maximum:100,location:"bottom",zIndex:0,margin:{top:0,left:0,bottom:0,right:0},labels:{zIndex:3,offset:.21},majorTickMarks:{length:12,offset:.33},minorTickMarks:{visible:false,length:8,offset:.42}});this.defaults=c;v.call(this,b)}n.prototype=new v;n.constructor=n;n.prototype.getLabel=function(d){var b=null;if(this.labels!=null)b=this.labels.stringFormat;var c=a.fn.jqLinearGauge.labelFormatter(b,d);return c};n.prototype._initRange=function(){this.actualMinimum=this.minimum;this.actualMaximum=this.maximum;this._setVisibleRanges();this.actualInterval=this._f1(this._f2,this.actualVisibleMaximum)};n.prototype.setOptions=function(a){v.prototype.setOptions.call(this,a);if(a&&a.barMarkers){this.scaleBarMarkers=a.barMarkers;for(var d=[],b=0;b<this.barMarkers.length;b++){var h=new I(this.scaleBarMarkers[b]);h.setScale(this);d.push(h)}this.barMarkers=d}if(a&&a.needles){this.scaleNeedles=a.needles;for(var f=[],c=0;c<this.scaleNeedles.length;c++){var i=new z(this.scaleNeedles[c]);i.setScale(this);f.push(i)}this.needles=f}if(a&&a.ranges){for(var e=a.ranges,g=[],b=0;b<e.length;b++){var j=new J(e[b]);j.setScale(this);g.push(j)}this.ranges=g}};n.prototype._createLabel=function(d,c){var b=new j(d);b.context={gauge:this.chart,scale:this};a.extend(b,c);this.chart.elem.trigger("labelCreating",b);b.measure(this.chart.ctx);return b};n.prototype._getLabels=function(){var c=this.labels,g=b.fitInRange(c.offset,0,1);if(c==null||c.visible===false)return[];var s=this.lblMargin;switch(this.location){case"left":case"right":var i=g*this.width;break;case"top":case"bottom":var i=g*this.height}var j=[],l=this.__f6(c,true);if(!l)return[];for(var k=this._getLabelIntervals(l,c),m=k.length,p=c.showFirstLabel,q=c.showLastLabel,e=0;e<m;e++){if(!p&&e==0||!q&&e==m-1)continue;var o=k[e],r=this.getLabel(o),a=this._createLabel(r,c),n=this.getPosition(o);switch(this.location){case"left":a.x=this.x+i;a.textAlign="left";a.y=n;switch(c.hAlign){case"bottom":a.textBaseline="top";break;case"top":a.textBaseline="bottom";break;case"left":a.textAlign="left";break;case"right":a.textAlign="right";break;case"center":a.textAlign="center"}if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle)),f=b.radians(d);a.rotX=a.x;a.rotY=a.y;a.rotationAngle=f}break;case"bottom":a.x=n;a.y=this.y+i;a.textBaseline="middle";switch(c.hAlign){case"center":a.textAlign="center";break;case"left":a.textAlign="right";break;case"right":a.textAlign="left"}if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle));a.flip=d>0;if(d>0)d=-180+d;var f=b.radians(d),h=Math.sqrt(a.width*a.width+a.height*a.height);a.rotX=a.x+.5*Math.cos(f)*h;a.rotY=a.y+.5*Math.sin(f)*h;a.rotationAngle=f}}a.zIndex=c.zIndex;j.push(a)}return j};n.prototype._f5=function(c,w,h){if(c==null||c.visible!=true)return[];var s=[],o=b.fitInRange(c.offset,0,1);switch(this.location){case"left":case"right":var r=o*this.width;break;case"top":case"bottom":var r=o*this.height}var t=c.length,e=[];if(!Array.prototype.filter)Array.prototype.filter=function(c){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),g=b.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=[],f=arguments[1],a=0;a<g;a++)if(a in b){var e=b[a];c.call(f,e,a,b)&&d.push(e)}return d};if(w===false){var v=this.__f6(c,false),p=this._getIntervals(v,c,false);if(h.visible===true){var q=this.__f6(h,true),n=this._getIntervals(q,h,true),m=[];m=p.filter(function(b){return a.inArray(b,n)===-1});e=m}else e=p}else{var q=this.__f6(c,true),n=this._getIntervals(q,c,true);e=n}for(var i,j,f,g,l=0;l<e.length;l++){var u=this.getPosition(e[l]);switch(this.location){case"left":j=g=u;f=this.x+r;i=f+t;break;case"bottom":i=f=u;g=this.y+r;j=g+t}var d=new k(i,j,f,g);c._setLineSettings(d);d.zIndex=c.zIndex;d.strokeStyle=c.strokeStyle;d.lineWidth=c.lineWidth;d.strokeDashArray=c.strokeDashArray;s.push(d)}return s};n.prototype._render=function(c){var f=this._f5(this.minorTickMarks,false,this.majorTickMarks);a.merge(c,f);var e=this._f5(this.majorTickMarks,true,this.minorTickMarks);a.merge(c,e);var d=this._getLabels();this.labels&&!this.labels.angle&&this._correctLabelsPositions(d);this._filterLabels(d);a.merge(c,d);if(this.barMarkers)for(var b=0;b<this.barMarkers.length;b++)this.barMarkers[b]._render(c);if(this.ranges)for(var b=0;b<this.ranges.length;b++)this.ranges[b]._render(c);if(this.needles)for(var b=0;b<this.needles.length;b++)this.needles[b]._render(c)};function z(a){this.defaults={type:"pointer",value:undefined,radius:4,width:10,height:10,fillStyle:"black",strokeStyle:"black",lineWidth:0,innerOffset:.5,outerOffset:.85,zIndex:4,orientation:"top"};this.setOptions&&this.setOptions(a)}z.prototype.setScale=function(a){this.scale=a};z.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};z.prototype.getShape=function(d,c,e,f,l){var i=null;if(this.mediumOffset){var m=b.fitInRange(this.mediumOffset,0,1),j=m*this.scale.height;j=f-Math.abs(j-c)}else var j=f/3;switch(this.type){case"ellipse":switch(this.orientation){case"left":case"right":i=new s(d,c-f/2,e,f);break;case"top":case"bottom":i=new s(d-e/2,c,e,f)}break;case"rectangle":switch(this.scale.location){case"left":case"right":i=new h(d,c-e/2,f,e);break;case"top":case"bottom":i=new h(d-e/2,c,e,f)}break;case"triangle":var a=[];a.push(d);a.push(c);a.push(d-e/2);a.push(c+f);a.push(d+e/2);a.push(c+f);newPts=a;switch(this.orientation){case"left":newPts=b.rotatePointsAt(a,b.radians(-90),d,c);break;case"right":newPts=b.rotatePointsAt(a,b.radians(90),d,c);break;case"bottom":newPts=b.rotatePointsAt(a,b.radians(180),d,c)}i=new g(newPts);i.isBoundsHitTest=true;break;case"line":i=new k(d,c+f/2,d,c-f/2);break;case"plus":var a=[];a.push(d-e/2);a.push(c);a.push(d+e/2);a.push(c);a.push(null);a.push(null);a.push(d);a.push(c-f/2);a.push(d);a.push(c+f/2);newPts=a;switch(this.orientation){case"left":newPts=b.rotatePointsAt(a,b.radians(-90),d,c);break;case"right":newPts=b.rotatePointsAt(a,b.radians(90),d,c)}i=new o(newPts,true);break;case"pointer":var a=[];a.push(d);a.push(c);a.push(d-e/2);a.push(c+j);a.push(d-e/2);a.push(c+f);a.push(d+e/2);a.push(c+f);a.push(d+e/2);a.push(c+j);a.push(d);a.push(c);a.push(d+e/2);a.push(c+j);newPts=a;switch(this.orientation){case"left":newPts=b.rotatePointsAt(a,b.radians(-90),d,c);break;case"right":newPts=b.rotatePointsAt(a,b.radians(90),d,c);break;case"bottom":newPts=b.rotatePointsAt(a,b.radians(180),d,c)}i=new g(newPts);i.isBoundsHitTest=true;break;case"image":if(!l)return null;i=new p(d,c,l)}return i};z.prototype._render=function(j){var a=this.scale,k=a.height,l=b.fitInRange(this.offset,0,1),d=b.fitInRange(this.innerOffset,0,1),g=b.fitInRange(this.outerOffset,0,1),h=(g-d)*a.height,i=(g-d)*a.width;if(a.location==="left"||a.location==="right"){this.orientation="left";var e=a.x+d*a.width,f=a.getPosition(this.value);if(this.type==="ellipse")var c=this.getShape(e,f,this.width,this.height);else var c=this.getShape(e,f,this.height,i)}else{var e=this.scale.getPosition(this.value),f=a.y+d*a.height;if(this.type==="ellipse")var c=this.getShape(e,f,this.width,this.height);else var c=this.getShape(e,f,this.width,h)}c.fillStyle=this.fillStyle;c.strokeStyle=this.strokeStyle;c.lineWidth=this.lineWidth;c.zIndex=this.zIndex;c.context={gauge:a.chart,scale:a,value:this.value,elementType:"needle",element:this,title:this.title};j.push(c)};function y(a){this.defaults={lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,size:8,offset:0,linkLineWidth:1,type:"circle"};this.setOptions(a)}y.prototype._setShapeSettings=function(a){a.fillStyle=this.fillStyle;a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.lineCap=this.lineCap;a.lineJoin=this.lineJoin;a.miterLimit=this.miterLimit;a.shadowColor=this.shadowColor;a.shadowBlur=this.shadowBlur;a.shadowOffsetX=this.shadowOffsetX;a.shadowOffsetY=this.shadowOffsetY;a.cursor=this.cursor};y.prototype._setLineSettings=function(a){a.lineWidth=this.linkLineWidth;a.strokeStyle=this.linkLineStrokeStyle};y.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};y.prototype.getSize=function(){return{width:this.size,height:this.size}};y.prototype.getShape=function(c,d,b,f){if(this.visible===false)return null;var i=2*b,e=null;switch(this.type){case"circle":e=new t(c-b,d-b,b);break;case"rectangle":e=new h(c-b,d-b,i,i);break;case"diamond":var a=[];a.push(c);a.push(d-b);a.push(c+b);a.push(d);a.push(c);a.push(d+b);a.push(c-b);a.push(d);e=new g(a);e.isBoundsHitTest=true;break;case"triangle":var a=[];a.push(c);a.push(d-b);a.push(c+b);a.push(d+b);a.push(c-b);a.push(d+b);e=new g(a);e.isBoundsHitTest=true;break;case"line":e=new k(c-b,d,c+b,d);break;case"plus":var a=[];a.push(c-b);a.push(d);a.push(c+b);a.push(d);a.push(null);a.push(null);a.push(c);a.push(d-b);a.push(c);a.push(d+b);e=new o(a,true);break;case"image":if(!f)return null;e=new p(c,d,f)}e.useHitTestArea=true;e.center={x:Math.round(c),y:Math.round(d)};return e};y.prototype.isVisible=function(){return this.visible!==false&&this.type!="none"};function I(a){this.defaults={fillStyle:"black",strokeStyle:"black",lineWidth:0,innerOffset:.35,outerOffset:.7,zIndex:1};this.setOptions&&this.setOptions(a)}I.prototype.setScale=function(a){this.scale=a};I.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};I.prototype._render=function(n){var a=this.scale,g=a.getPosition(this.scale.minimum),k=a.getPosition(this.value),i=Math.abs(k-g),d=b.fitInRange(this.innerOffset,0,1),e=Math.max(0,this.outerOffset);e=Math.min(1,e);switch(this.scale.location){case"bottom":case"top":var j=e-d,f=j*a.height,m=a.y+d*a.height,c=new h(g,m,i,f);break;case"left":case"right":var j=e-d,f=j*a.width,l=a.x+d*a.width,c=new h(l,k,f,i)}c.fillStyle=this.fillStyle;c.strokeStyle=this.strokeStyle;c.lineWidth=this.lineWidth;c.zIndex=this.zIndex;c.context={gauge:a.chart,scale:a,value:this.value,elementType:"barMarker",element:this,title:this.title};n.push(c)};function J(a){this.defaults={fillStyle:"red",strokeStyle:"black",lineWidth:0,startValue:0,endValue:100,innerOffset:.35,outerStartOffset:.5,outerEndOffset:.7,zIndex:1};this.setOptions&&this.setOptions(a)}J.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};J.prototype.setScale=function(a){this.scale=a};J.prototype._render=function(l){var c=this.scale,e=c.getPosition(this.startValue),f=c.getPosition(this.endValue);innerOffset=b.fitInRange(this.innerOffset,0,1);outerStartOffset=b.fitInRange(this.outerStartOffset,0,1);outerEndOffset=b.fitInRange(this.outerEndOffset,0,1);switch(this.scale.location){case"bottom":case"top":var k=c.y+innerOffset*this.scale.height,h=c.y+outerStartOffset*c.height,i=c.y+outerEndOffset*c.height,a=[];a.push(e);a.push(k);a.push(e);a.push(h);a.push(f);a.push(i);a.push(f);a.push(k);var d=new g(a);break;case"left":case"right":var j=c.x+innerOffset*c.width,h=c.x+outerStartOffset*c.width,i=c.x+outerEndOffset*c.width,a=[];a.push(j);a.push(e);a.push(h);a.push(e);a.push(i);a.push(f);a.push(j);a.push(f);var d=new g(a)}d.fillStyle=this.fillStyle;d.strokeStyle=this.strokeStyle;d.lineWidth=this.lineWidth;d.zIndex=this.zIndex;d.context={startValue:this.startValue,endValue:this.endValue,scale:c,gauge:c.chart,elementType:"range",element:this,title:this.title};l.push(d)};function m(a){this.pluginClass="ui-jqradialgauge";this.tooltipClass="ui-jqradialgauge-tooltip";d.call(this,a)}m.prototype=new d;m.constructor=m;m.prototype._e1=function(a){d.prototype._e1.call(this,a);this._e2();this.border=new A};m.prototype._setOptions=function(k){var b=k||{};b.tooltips=a.extend(true,{},a.fn.jqRadialGauge.defaults.tooltips,b.tooltips);b.shadows=a.extend(true,{},a.fn.jqRadialGauge.defaults.shadows,b.shadows);b.anchor=a.extend(true,{},a.fn.jqRadialGauge.defaults.anchor,b.anchor);this.hasTooltips=b.tooltips&&!b.tooltips.disabled;this.hasHighlighting=b.tooltips&&b.tooltips.highlighting;this.options=b;d.prototype._setOptions.call(this,b);var c=k||{};if(c.width)this.elem.css("width",c.width);else this.elem.width()==0&&this.elem.css("width","400px");if(c.height)this.elem.css("height",c.height);else this.elem.height()==0&&this.elem.css("height","400px");var n=this._width=this.elem.width(),m=this._height=this.elem.height();this._e11(this.canvas,n,m);this._e11(this.hlCanvas,n,m);this.border.setOptions(b.border);this.border.fillStyle=b.background||this.border.fillStyle;if(c.orientation&&c.orientation=="vertical")var p="left";else var p="bottom";var j=[];if(b.scales)for(var e=0;e<b.scales.length;e++){var l=b.scales[e];l.location=p;var g=new f;g.setOptions(l);g._setChart(this);j.push(g)}var h=[];if(b.annotations)for(var e=0;e<b.annotations.length;e++){var o=b.annotations[e],i=new x(this);i.setOptions(o);h.push(i)}this.annotations=h;this.scales=j;this.update()};m.prototype._measure=function(){for(var a=0;a<this.scales.length;a++)this.scales[a]._measure();return false};m.prototype._arrange=function(){var e=this._width,c=this._height;this.border.width=e;this.border.height=c;var b=this.border.getPadding();e-=2*b;c-=2*b;for(var f=b,g=b,d=0;d<this.scales.length;d++){var a=this.scales[d];a.x=f+a.margin.left;a.y=g+a.margin.top;a.width=e-a.margin.left-a.margin.right;a.height=c-a.margin.top-a.margin.bottom;a._arrange();a._updateOrigin()}};m.prototype.f14=function(b){if(!this.hasTooltips||!b||!b.length)return;var g=b.length,e="",d;if(g==1)d=b[0].context;else{d=[];a.each(b,function(){d.push(this.context)})}if(!d)return;var f=new jQuery.Event("tooltipFormat");this.elem.trigger(f,[d]);var h=this;if(f.result)e=f.result;else a.each(b,function(){e+=h._getTooltip(this)});this.tooltip.html(e);var c=this.options.tooltips;if(g==1)if(c.borderColor){c.borderColor=="auto"&&this.tooltip.css("border-color",b[0].getTooltipColor());this.tooltip.css("border-color",c.borderColor)}c.background&&this.tooltip.css("background",c.background);if(e!="")this.f18();else this.tooltip.hide()};m.prototype._getTooltip=function(a){var b="";if(a.context.title)b+=a.context.title;if(a.context.title&&a.context.value)b+=": "+a.context.value;else if(a.context.value)b+=a.context.value;return b};m.prototype.render=function(){this.clear();var g=[];this.border._render(g);if(this.options.anchor&&this.options.anchor.visible===true){var f=this.options.anchor,h=this.border.getPadding(),o=h,p=h,j=this._width-2*h,n=this._height-2*h,l=o+j/2,m=p+n/2,i=b.fitInRange(f.radius,0,1)*(j/2),c=new t(l-i,m-i,i);c.strokeStyle=f.strokeStyle;c.lineWidth=f.lineWidth;c.fillStyle=f.fillStyle;c.zIndex=f.zIndex}for(var e=[],d=0;d<this.scales.length;d++)this.scales[d]._render(e);c&&e.push(c);var k=function(a,b){return a.zIndex-b.zIndex};e.sort(k);a.merge(g,e);for(var d=0;d<this.annotations.length;d++)this.annotations[d]._render(g);this.shapeRenderer._render(g);this.shapes=e};m.prototype.update=function(){this._measure();this._arrange();for(var a=0;a<this.scales.length;a++)this.scales[a]._initRange();this.render()};function w(a){this.defaults={type:"pointer",value:undefined,radius:4,width:10,height:10,fillStyle:"black",strokeStyle:"black",lineWidth:0,innerOffset:0,outerOffset:.85,zIndex:4};this.setOptions&&this.setOptions(a)}w.prototype=new z;w.constructor=w;w.prototype.getShape=function(c,i,n,h,d,l,m){var e=null,f=this.scale,j=f._getAngle(this.value);switch(this.type){case"rectangle":var a=[];a.push(c-d/2);a.push(i);a.push(c-d/2);a.push(h);a.push(c+d/2);a.push(h);a.push(c+d/2);a.push(i);newPts=a;newPts=b.rotatePointsAt(a,j,f.cx,f.cy);e=new g(newPts);e.isBoundsHitTest=true;break;case"triangle":var a=[];a.push(c);a.push(i);a.push(c-d/2);a.push(h);a.push(c+d/2);a.push(h);newPts=a;newPts=b.rotatePointsAt(a,j,f.cx,f.cy);e=new g(newPts);e.isBoundsHitTest=true;break;case"line":var a=[];a.push(n);a.push(h);a.push(c);a.push(i);newPts=a;newPts=b.rotatePointsAt(a,j,f.cx,f.cy);e=new k(newPts[0],newPts[1],newPts[2],newPts[3]);e.isBoundsHitTest=true;break;case"pointer":var a=[];a.push(c);a.push(i);a.push(c-d/2);a.push(l);a.push(c-d/2);a.push(h);a.push(c+d/2);a.push(h);a.push(c+d/2);a.push(l);a.push(c);a.push(i);a.push(c+d/2);a.push(l);newPts=a;newPts=b.rotatePointsAt(a,j,f.cx,f.cy);e=new g(newPts);e.isBoundsHitTest=true;break;case"image":if(!m)return null;e=new p(c,i,m)}return e};w.prototype._render=function(k){var a=this.scale,q=a.height,r=b.fitInRange(this.offset,0,1),h=b.fitInRange(this.innerOffset,-1,1),i=b.fitInRange(this.outerOffset,0,1),e=a.cx,d=a.cy;if(this.mediumOffset)var j=b.fitInRange(this.mediumOffset,0,1),l=d-j*a.radius;var m=e,o=d-h*a.radius,n=e,p=d-i*a.radius,f=b.rotatePointAt(m,o,0,e,d),g=b.rotatePointAt(n,p,0,e,d),c=this.getShape(g.x,g.y,f.x,f.y,this.width,l);c.dontRound=true;c.fillStyle=this.fillStyle;c.strokeStyle=this.strokeStyle;c.lineWidth=this.lineWidth;c.zIndex=this.zIndex;c.context={gauge:a.chart,scale:a,value:this.value,elementType:"needle",element:this,title:this.title};k.push(c)};function B(a){this.defaults={fillStyle:"#E0400A",strokeStyle:"black",lineWidth:0,startValue:0,endValue:100,outerOffset:.8,innerStartOffset:.8,innerEndOffset:.6,zIndex:1};this.setOptions&&this.setOptions(a)}B.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};B.prototype.setScale=function(a){this.scale=a};B.prototype._render=function(A){var e=this._pointOnEllipse,m=this.innerEndOffset,l=this.innerStartOffset,n=this.outerOffset,a=this.scale,y=a.cx,z=a.cy,d=a.radius,i=1-Math.pow(d,2)/Math.pow(d,2),j=a._getAngle(this.startValue)+b.radians(270),k=a._getAngle(this.endValue)+b.radians(270),h={X:y,Y:z};if(a.startAngle>a.endAngle)var r=e(k,i,h,d,n),u=e(j,i,h,d,n),t=e(j,i,h,d,l),s=e(k,i,h,d,m);else var r=e(j,i,h,d,n),u=e(k,i,h,d,n),t=e(k,i,h,d,m),s=e(j,i,h,d,l);var p=Math.min(5e3,Math.floor(Math.abs(k-j)/(Math.PI/180))),c=[];c.push(t.x);c.push(t.y);if(a.startAngle>a.endAngle)var x=Math.abs(m-l);else var x=m-l;for(var q=x/p,f=1;f<p-1;f++){if(a.startAngle>a.endAngle)var v=j-b.radians(f),w=l-q*f;else var v=k-b.radians(f),w=m-q*f;var o=e(v,i,h,d,w);c.push(o.x);c.push(o.y)}c.push(s.x);c.push(s.y);c.push(r.x);c.push(r.y);for(var f=p-2;f>0;f--){if(a.startAngle>a.endAngle)var v=j-b.radians(f);else var v=k-b.radians(f);var o=e(v,i,h,d,n);c.push(o.x);c.push(o.y)}c.push(u.x);c.push(u.y);shape=new g(c);shape.isBoundsHitTest=true;shape.fillStyle=this.fillStyle;shape.strokeStyle=this.strokeStyle;shape.lineWidth=this.lineWidth;shape.zIndex=this.zIndex;shape.dontRound=true;shape.context={gauge:a.chart,scale:a,startValue:this.startValue,endValue:this.endValue,elementType:"range",element:this,title:this.title};A.push(shape)};B.prototype._pointOnEllipse=function(d,f,c,b,g){var e=Math.cos(d),h=Math.sin(d),a=Math.sqrt(b*b/(1-f*Math.pow(e,2)));a*=g;return point={x:a*e+c.X,y:a*h+c.Y}};function f(b){var c=a.extend(true,{},this.defaults,{minimum:0,maximum:100,startAngle:120,endAngle:420,strokeStyle:"gray",zIndex:0,labels:{zIndex:3,offset:1,orientation:"horizontal"},margin:{top:0,left:0,bottom:0,right:0},majorTickMarks:{offset:.83,length:12},minorTickMarks:{visible:false,length:8,offset:.87}});this.defaults=c;v.call(this,b)}f.prototype=new v;f.constructor=f;f.prototype.getLabel=function(d){var b=null;if(this.labels!=null)b=this.labels.stringFormat;var c=a.fn.jqRadialGauge.labelFormatter(b,d);return c};f.prototype._initRange=function(){this.actualMinimum=this.minimum;this.actualMaximum=this.maximum;this._setVisibleRanges();this.actualInterval=this._f1(this._f2,this.actualVisibleMaximum)};f.prototype.setOptions=function(a){v.prototype.setOptions.call(this,a);if(a&&a.needles){this.scaleNeedles=a.needles;for(var c=[],b=0;b<this.scaleNeedles.length;b++){var e=new w(this.scaleNeedles[b]);e.setScale(this);c.push(e)}this.needles=c}if(a&&a.ranges){this.scaleRanges=this.ranges;for(var d=[],b=0;b<this.scaleRanges.length;b++){var f=new B(this.scaleRanges[b]);f.setScale(this);d.push(f)}this.ranges=d}};f.prototype._measure=function(){this.width=0;this.height=0;return false};f.prototype._arrange=function(){this._initRadialMeasures()};f.prototype._updateOrigin=function(){this.origin=this.cx;this.length=2*Math.PI*this.radius};f.prototype._getAngle=function(g){var e=this.actualMaximum-this.actualMinimum,f=this.endAngle-this.startAngle,d=b.radians(f),c=b.radians(this.startAngle),a;if(e===0)a=c+d/2;else a=c+d*(g-this.actualMinimum)/e;return a!==0?a+Math.PI/2:a-b.radians(270)};f.prototype._f5=function(c,u,f){if(c==null||c.visible!=true)return[];var n=[],t=b.fitInRange(c.offset,0,1),v=c.length,e=this.cx,g=this.cy,x=e,r=g-t*this.radius,y=e,z=r-v;if(!Array.prototype.filter)Array.prototype.filter=function(c){"use strict";if(this===void 0||this===null)throw new TypeError;var b=Object(this),g=b.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=[],f=arguments[1],a=0;a<g;a++)if(a in b){var e=b[a];c.call(f,e,a,b)&&d.push(e)}return d};if(u===false){var s=this.__f6(c,false),l=this._getIntervals(s,c,false);if(f.visible===true){var m=this.__f6(f,true),j=this._getIntervals(m,f,true),i=[];i=l.filter(function(b){return a.inArray(b,j)===-1});intrs=i}else intrs=l}else{var m=this.__f6(c,true),j=this._getIntervals(m,c,true);intrs=j}for(var h=0;h<intrs.length;h++){var w=intrs[h],o=this._getAngle(w),p=b.rotatePointAt(x,r,o,e,g),q=b.rotatePointAt(y,z,o,e,g),d=new k(p.x,p.y,q.x,q.y);d.strokeStyle=c.strokeStyle;d.lineWidth=c.lineWidth;d.strokeDashArray=c.strokeDashArray;d.zIndex=c.zIndex;d.dontRound=true;n.push(d)}return n};f.prototype._createLabel=function(d,c){var b=new j(d);b.context={gauge:this.chart,scale:this};a.extend(b,c);this.chart.elem.trigger("labelCreating",b);b.measure(this.chart.ctx);return b};f.prototype._getLabels=function(){var c=this.labels;if(c==null||c.visible===false)return[];for(var p=b.fitInRange(c.offset,0,1),k=this.cx,l=this.cy,s=k,t=l-this.radius*p,u=8,i=[],q=this.__f6(c,true),h=this._getLabelIntervals(q,c),e=0;e<h.length;e++){var r=h.length,m=c.showFirstLabel,n=c.showLastLabel;if(!m&&e==0||!n&&e==r-1)continue;var j=h[e],o=this.getLabel(j),d=this._getAngle(j),a=this._createLabel(o,c);a.textAlign="center";var g=b.rotatePointAt(s,t,d,k,l);a.x=g.x-a.width/2;a.y=g.y-a.height/2;d-=Math.PI/2;switch(c.orientation){case"radial":a.rotationAngle=d;var f=a.getCenter();a.rotX=f.x;a.rotY=f.y;if(d>=Math.PI/2&&d<=3*Math.PI/2)a.flip=true;break;case"circular":a.rotationAngle=d+b.radians(90);var f=a.getCenter();a.rotX=f.x;a.rotY=f.y;break;default:a.x=g.x;a.y=g.y}i.push(a)}return i};f.prototype._render=function(c){if(this.needles)for(var b=0;b<this.needles.length;b++)this.needles[b]._render(c);if(this.ranges)for(var b=0;b<this.ranges.length;b++)this.ranges[b]._render(c);var d=this._getLabels();a.merge(c,d);var f=this._f5(this.minorTickMarks,false,this.majorTickMarks);a.merge(c,f);var e=this._f5(this.majorTickMarks,true,this.minorTickMarks);a.merge(c,e)}})(jQuery)